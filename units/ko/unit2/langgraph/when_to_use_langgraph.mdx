# `LangGraph`란 무엇인가요?

`LangGraph`는 [LangChain](https://www.langchain.com/)이 개발한 프레임워크로, **LLM을 통합하는 애플리케이션의 제어 흐름을 관리**하기 위한 것입니다.

## `LangGraph`는 `LangChain`과 다른가요?

LangChain은 모델 및 기타 컴포넌트와 상호작용하기 위한 표준 인터페이스를 제공하며, 검색, LLM 호출, 도구 호출에 유용합니다.
LangChain의 클래스들은 LangGraph에서 사용될 수 있지만, 반드시 사용할 필요는 없습니다.

이 패키지들은 서로 다르며 독립적으로 사용될 수 있지만, 결국 온라인에서 찾을 수 있는 모든 자료는 두 패키지를 함께 사용합니다.

## `LangGraph`는 언제 사용해야 하나요?
### 제어 vs 자유

AI 애플리케이션을 설계할 때, **제어**와 **자유** 사이의 근본적인 절충점에 직면합니다:

- **자유**는 LLM이 더 창의적이 되고 예상치 못한 문제를 해결할 수 있는 여지를 제공합니다.
- **제어**는 예측 가능한 동작을 보장하고 가이드라인을 유지할 수 있게 합니다.

*smolagents*에서 볼 수 있는 것과 같은 코드 에이전트는 매우 자유롭습니다. 단일 액션 단계에서 여러 도구를 호출하고, 자신만의 도구를 만들 수 있습니다. 하지만 이러한 동작은 JSON을 다루는 일반적인 에이전트보다 예측하기 어렵고 제어하기 어려울 수 있습니다!

`LangGraph`는 스펙트럼의 반대편에 있으며, 에이전트의 실행에 대한 **"제어"**가 필요할 때 빛을 발합니다.

LangGraph는 **애플리케이션에 대한 제어**가 필요할 때 특히 가치가 있습니다. LLM의 힘을 활용하면서도 예측 가능한 프로세스를 따르는 애플리케이션을 구축하는 데 필요한 도구를 제공합니다.

간단히 말해서, 애플리케이션이 각 분기점에서 결정을 내리면서 특정 방식으로 조율되어야 하는 일련의 단계를 포함한다면, **LangGraph가 필요한 구조를 제공**합니다.

예를 들어, 문서에 대한 질문에 답할 수 있는 LLM 어시스턴트를 만들고 싶다고 가정해보겠습니다.

LLM은 텍스트를 가장 잘 이해하므로, 질문에 답하기 전에 다른 복잡한 형식(차트, 표)을 텍스트로 변환해야 합니다. 하지만 그 선택은 가지고 있는 문서의 유형에 따라 달라집니다!

이것은 다음과 같이 표현하기로 한 분기입니다:

<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit2/LangGraph/flow.png" alt="Control flow"/>

> 💡 **팁:** 왼쪽 부분은 도구 호출이 포함되지 않으므로 에이전트가 아닙니다. 하지만 오른쪽 부분은 xls를 쿼리하기 위한 코드(pandas로 변환하고 조작)를 작성해야 합니다.

이 분기는 결정적이지만, LLM의 출력에 따라 조건이 달라지는 비결정적인 분기도 설계할 수 있습니다.

LangGraph가 뛰어난 주요 시나리오는 다음과 같습니다:

- 흐름에 대한 명시적인 제어가 필요한 **다단계 추론 프로세스**
- 단계 간 **상태 유지가 필요한 애플리케이션**
- **결정적 로직과 AI 기능을 결합하는 시스템**
- **인간 개입이 필요한 워크플로우**
- 여러 컴포넌트가 함께 작동하는 **복잡한 에이전트 아키텍처**

본질적으로, 가능할 때마다, **인간으로서**, 각 액션의 출력을 기반으로 액션의 흐름을 설계하고, 그에 따라 다음에 실행할 것을 결정하세요. 이 경우, LangGraph가 여러분에게 맞는 프레임워크입니다!

제 의견으로는 `LangGraph`가 시장에서 가장 프로덕션에 준비된 에이전트 프레임워크입니다.

## LangGraph는 어떻게 작동하나요?

핵심적으로, `LangGraph`는 방향성 그래프 구조를 사용하여 애플리케이션의 흐름을 정의합니다:

- **노드**는 개별 처리 단계(LLM 호출, 도구 사용, 결정 내리기 등)를 나타냅니다.
- **엣지**는 단계 간의 가능한 전환을 정의합니다.
- **상태**는 사용자가 정의하고 유지하며 실행 중에 노드 간에 전달됩니다. 다음에 어떤 노드를 대상으로 할지 결정할 때, 이 현재 상태를 살펴봅니다.

다음 장에서 이러한 기본 구성 요소들을 더 자세히 살펴보겠습니다!

## 일반 Python과는 어떻게 다른가요? 왜 LangGraph가 필요한가요?

"if-else 문으로 이러한 모든 흐름을 처리하는 일반 Python 코드를 작성할 수도 있지 않나요?"라고 생각할 수 있습니다.

기술적으로는 맞지만, LangGraph는 복잡한 시스템을 구축하는 데 있어 일반 Python보다 **몇 가지 장점**을 제공합니다. LangGraph 없이도 같은 애플리케이션을 구축할 수 있지만, LangGraph는 더 쉬운 도구와 추상화를 제공합니다.

상태, 시각화, 로깅(추적), 내장된 인간 개입 등이 포함됩니다. 